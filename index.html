<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#2563eb">
    <meta name="description" content="이우규 후보의 6대 핵심 공약과 면단위 공약을 확인하세요. 국민주권정부 시대, 진안형 기본사회위원회 구축">

    <!-- 캐시 방지 메타태그 수정 -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Apple PWA -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="이우규 후보">

    <!-- Apple PWA 설정 강화 -->
    <meta name="apple-mobile-web-app-capable" content="yes">

    <!-- PWA 설치 상태 감지용 메타 태그 추가 -->
    <meta name="pwa-installed" content="false" id="pwa-meta">

    <!-- 기존 meta 태그들 다음에 추가 -->
    <meta name="theme-color" content="#2563eb">

    <!-- 렌더링 최적화 메타 태그 추가 -->
    <meta name="color-scheme" content="light">
    <meta name="supported-color-schemes" content="light">

    <!-- 렌더링 블로킹 방지 -->
    <link rel="preload" href="style.css" as="style">
    <link rel="preload" href="script.js" as="script">

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YV7NXZQPN4"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        // Google Analytics 설정
        gtag('config', 'G-YV7NXZQPN4', {
            page_title: '이우규 후보 - 진안을 새롭게, 군민을 이롭게',
            custom_map: { 'custom_parameter_1': 'section_name' }
        });

        // 사용자 정의 이벤트 설정
        gtag('event', 'page_view', {
            'event_category': 'engagement',
            'event_label': 'site_load'
        });
    </script>

    <!-- Favicon -->
    <link rel="icon"
        href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' fill='%232563eb'/%3E%3Ctext x='16' y='22' font-family='Arial' font-size='14' fill='white' text-anchor='middle'%3E이%3C/text%3E%3C/svg%3E">

    <title>이우규 후보 - 진안을 새롭게, 군민을 이롭게</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap"
        rel="stylesheet">

    <!-- 스타일시트 -->
    <link rel="stylesheet" href="style.css?v=1.2">

    <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
    <script>
        Kakao.init('2d2314bffebe68ccc1d592e504ddb4d5'); // 여기에 발급받은 JavaScript 키를 넣으세요.
    </script>

    <!-- </head> 태그 직전에 추가 -->
    <script>
        // 페이지 로드 시 즉시 실행되는 안전장치
        document.addEventListener('DOMContentLoaded', function () {
            // 0.5초 후 강제로 opacity 확인 및 수정
            setTimeout(function () {
                const activeSection = document.querySelector('.page-section.section-active');
                if (activeSection) {
                    activeSection.style.opacity = '1';
                    activeSection.style.visibility = 'visible';
                    activeSection.style.filter = 'none';
                    activeSection.style.backdropFilter = 'none';
                }

                const mainElement = document.querySelector('main');
                if (mainElement) {
                    mainElement.style.opacity = '1';
                    mainElement.style.filter = 'none';
                }

                const pageContainer = document.getElementById('page-container');
                if (pageContainer) {
                    pageContainer.style.opacity = '1';
                    pageContainer.style.filter = 'none';
                }
            }, 500);
        });
    </script>

</head>

<body class="bg-gray-100">

    <!-- PWA 설치 안내 팝업 -->
    <script>
        // 페이지 로드 즉시 실행
        (function () {
            // 0.3초 후 강제 불투명도 설정
            setTimeout(function () {
                document.body.style.opacity = '1';
                var allElements = document.querySelectorAll('*');
                allElements.forEach(function (el) {
                    if (el.style.opacity === '0' || el.style.opacity === '') {
                        el.style.opacity = '1';
                    }
                });
                console.log('[FORCE] 모든 요소 불투명도 강제 설정 완료');
            }, 300);
        })();
    </script>

    <!-- 로딩 오버레이 -->
    <div id="loading-overlay" class="fixed inset-0 bg-white bg-opacity-90 flex items-center justify-center z-50 hidden">
        <div class="text-center">
            <div
                class="loading inline-block w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin">
            </div>
            <p class="mt-4 text-gray-600">로딩 중...</p>
        </div>
    </div>

    <!-- PWA 설치 배너 -->
    <div id="install-banner" class="hidden install-banner">
        <div class="install-banner-content">
            <div class="install-banner-icon">📱</div>
            <div class="install-banner-text">
                <div class="install-banner-title">앱으로 더 편리하게!</div>
                <div class="install-banner-subtitle">이우규 후보를 홈 화면에 설치하세요</div>
            </div>
            <div class="install-banner-actions">
                <!-- 메인 설치 버튼 - 더 크고 눈에 띄게 -->
                <button id="install-btn" class="install-btn" onclick="installPWA()">
                    <span class="install-btn-icon">⬇️</span>
                    <span class="install-btn-text">바로 설치하기</span>
                </button>
                <!-- 설치 방법 안내 버튼 (보조) -->
                <button id="guide-btn" class="guide-btn">
                    <span>📖</span>
                    <span>설치방법</span>
                </button>
                <button id="dismiss-banner" class="dismiss-btn" title="24시간 동안 보지 않기">
                    <span>✕</span>
                </button>
            </div>
        </div>

        <!-- 설치 힌트 영역 -->
        <div id="install-hint" class="install-hint hidden">
            <div class="install-hint-text" id="install-hint-text">
                <!-- JavaScript에서 디바이스별 텍스트가 설정됩니다 -->
            </div>
        </div>
    </div>

    <!-- 설치 성공 알림 (페이지 로딩 시 숨김) -->
    <div id="install-success-notification" class="hidden install-success-notification">
        <div class="install-success-content">
            <div class="install-success-icon">🎉</div>
            <div class="install-success-text">
                <div class="install-success-title">설치 완료!</div>
                <div class="install-success-subtitle">이제 홈 화면에서 바로 접근하세요</div>
            </div>
            <button id="close-success-notification" class="close-success-btn">✕</button>
        </div>
    </div>

    <!-- iOS 전용 설치 안내 팝업 -->
    <div id="ios-install-popup" class="hidden ios-install-popup">
        <div class="ios-install-content">
            <div class="ios-install-header">
                <h3>📱 iPhone/iPad 설치 방법</h3>
                <button onclick="closeIOSInstallPopup()" class="close-ios-popup">✕</button>
            </div>
            <div class="ios-install-steps">
                <div class="ios-step">
                    <div class="ios-step-number">1</div>
                    <div class="ios-step-text">Safari에서 하단 <strong>공유 버튼</strong> (⬆️) 터치</div>
                </div>
                <div class="ios-step">
                    <div class="ios-step-number">2</div>
                    <div class="ios-step-text"><strong>"홈 화면에 추가"</strong> 선택</div>
                </div>
                <div class="ios-step">
                    <div class="ios-step-number">3</div>
                    <div class="ios-step-text">우상단 <strong>"추가"</strong> 버튼 터치</div>
                </div>
            </div>
            <div class="ios-install-note">
                ⚠️ Chrome이나 다른 브라우저에서는 Safari를 사용해주세요
            </div>
        </div>
    </div>

    <!-- Android 전용 설치 안내 팝업 -->
    <div id="android-install-popup" class="hidden android-install-popup">
        <div class="android-install-content">
            <div class="android-install-header">
                <h3>📱 Android 설치 방법</h3>
                <button onclick="closeAndroidInstallPopup()" class="close-android-popup">✕</button>
            </div>
            <div class="android-install-steps">
                <div class="android-step">
                    <div class="android-step-number">1</div>
                    <div class="android-step-text">Chrome에서 우상단 <strong>메뉴 버튼</strong> (⋮) 터치</div>
                </div>
                <div class="android-step">
                    <div class="android-step-number">2</div>
                    <div class="android-step-text"><strong>"앱 설치"</strong>, <strong>"앱에서 열기"</strong> 또는 <strong>"홈 화면에 추가"</strong> 선택</div>
                </div>
                <div class="android-step">
                    <div class="android-step-number">3</div>
                    <div class="android-step-text"><strong>"설치"</strong> 버튼 터치</div>
                </div>
            </div>
            <div class="android-install-note">
                💡 삼성 인터넷, Edge 등 다른 브라우저에서도 비슷한 방법으로 설치 가능합니다
            </div>
        </div>
    </div>

    <!-- 알림 컨테이너 -->
    <div id="notification-container" class="fixed top-20 right-4 z-50"></div>

    <!-- 상단 네비게이션 바 -->
    <header class="bg-white/90 backdrop-blur-sm sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-4 py-3 flex justify-between items-center">
            <!--           <button onclick="showSection('home')" class="text-xl font-bold text-blue-700 flex items-center space-x-2" id="logo-btn">
                <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold">이
                </div>               
            </button>
-->
            <div class="nav-desktop-menu flex space-x-6 text-sm font-semibold" id="main-nav-menu">
                <button onclick="showSection('home')" id="nav-home"
                    class="nav-btn text-gray-700 hover:text-blue-600 transition-colors">홈</button>
                <button onclick="showSection('promises')" id="nav-promises"
                    class="nav-btn text-gray-700 hover:text-blue-600 transition-colors">면별 공약</button>
                <button onclick="showSection('profile')" id="nav-profile"
                    class="nav-btn text-gray-700 hover:text-blue-600 transition-colors">후보자</button>
                <button onclick="showSection('news')" id="nav-news"
                    class="nav-btn text-gray-700 hover:text-blue-600 transition-colors">소식</button>

            </div>

        </nav>

    </header>

    <!-- 메인 컨텐츠 -->
    <main class="container mx-auto p-4 max-w-4xl">
        <!-- 페이지 컨테이너 - 섹션 겹침 방지를 위한 구조 개선 -->
        <div id="page-container" class="relative">

            <!-- ========== 1. 홈 화면 섹션 ========== -->
            <section id="home-section" class="page-section section-active">
                <!-- Hero Section -->
                <div
                    class="relative h-64 md:h-80 bg-gradient-to-r from-blue-600 to-green-600 rounded-lg shadow-lg overflow-hidden mb-8">
                    <div class="absolute inset-0 bg-black/40 flex items-center justify-center">
                        <div class="text-center text-white px-4">
                            <h1 class="text-3xl md:text-5xl font-black leading-tight drop-shadow-lg">
                                진안을 새롭게,<br>군민을 이롭게
                            </h1>
                            <p class="text-xl md:text-2xl mt-4 font-bold">이우규가 해내겠습니다!</p>
                            <div class="mt-4 text-lg font-semibold">
                                <p>국민주권정부 시대, 진안형 기본사회위원회 구축</p>
                            </div>
                            <button onclick="trackMembershipClick('hero_section'); showSection('membership')"
                                class="hero-membership-btn">
                                <span class="mr-2">🎯</span>
                                <span>더불어민주당 당원가입안내</span>
                            </button>
                        </div>
                    </div>
                    <!-- 후보자 이미지 -->
                    <div class="hero-candidate-image">
                        <img src="candidate-photo.jpg" alt="이우규 후보" class="candidate-photo"
                            onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <div class="image-fallback" style="display: none;">이우규</div>
                    </div>
                </div>

                <!-- 6대 핵심 공약 그리드 -->
                <div class="mb-12">
                    <h2 class="text-2xl font-bold mb-6 text-center">이우규의 6대 핵심 공약</h2>
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-3 md:gap-6" id="core-promises-grid">
                        <!-- 6대 공약 카드들이 로드됩니다 -->
                    </div>
                </div>

                <!-- 국민주권정부 메시지 -->
                <div class="bg-gradient-to-r from-blue-50 to-green-50 rounded-lg shadow-md p-6 mb-8">
                    <h3 class="text-lg font-bold mb-4 flex items-center text-blue-800">
                        <span class="mr-2">🏛️</span>
                        국민주권정부 시대, 새로운 진안을 만들어가겠습니다
                    </h3>
                    <p class="text-gray-700 leading-relaxed mb-4">
                        진안군민께서 84.4%라는 높은 투표율과 83.69%의 압도적 지지로 국민주권정부에 대한 염원을
                        분명히 표현해 주셨습니다. 이제 진안군도 군민의 뜻을 실현할 준비가 되어 있어야 합니다.
                    </p>
                    <div class="bg-white rounded-lg p-4 border-l-4 border-blue-500">
                        <p class="text-gray-800 font-semibold">
                            "군청의 문은 더 넓게 열리고, 공무원의 자세는 더 낮아지며,
                            정치인의 귀는 더 깊게 열려야 합니다."
                        </p>
                        <p class="text-gray-600 text-sm mt-2">- 이우규 후보</p>
                    </div>
                </div>

                <!-- 이재명 대통령 공약 소개 -->
                <div class="bg-white rounded-lg shadow-md p-6 mb-8">
                    <h3 class="text-xl font-bold mb-4 flex items-center text-green-800">
                        <span class="mr-2">✨</span>
                        이재명 대통령의 진안군 방문과 농촌형 기본소득 공약
                    </h3>
                    <div class="space-y-4">
                        <div class="border-l-4 border-blue-500 pl-4 bg-blue-50 p-4 rounded-r-lg">
                            <h4 class="font-semibold text-lg mb-2">농촌형 기본소득 모델</h4>
                            <p class="text-gray-700 mb-2">이재명 대통령께서 진안군을 직접 방문하시어 구체적인 비전을 제시해주셨습니다.</p>
                            <p class="text-gray-800 font-medium">"6,500억 원이면 1인당 250여만 원 수준, 중앙정부가 힘을 합쳐 1인당 월 15만~20만원
                                정도의 지역화폐를 지급하는 기본소득 모델이 가능하다"</p>
                        </div>
                        <div class="border-l-4 border-green-500 pl-4 bg-green-50 p-4 rounded-r-lg">
                            <h4 class="font-semibold text-lg mb-2">참여형 에너지 모델</h4>
                            <p class="text-gray-700">신안군 사례를 언급하며 재생에너지 수익을 주민들과 공유하는 모델의 필요성을 강조하셨습니다.</p>
                        </div>
                    </div>
                </div>

                <!-- SNS 홍보 버튼 섹션 -->
                <div class="sns-container bg-white rounded-lg shadow-md p-6 mb-8">
                    <h3 class="text-lg font-bold mb-4 text-center">이우규 후보를 SNS로 응원해주세요! 📢</h3>
                    <div class="grid grid-cols-2 md:grid-cols-5 gap-4">
                        <button onclick="shareToFacebook()"
                            class="flex flex-col items-center p-4 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors">
                            <div class="w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center mb-2">
                                <span class="text-white font-bold">f</span>
                            </div>
                            <span class="text-sm font-semibold text-blue-600">페이스북 팔로우</span>
                        </button>

                        <button onclick="shareToInstagram()"
                            class="flex flex-col items-center p-4 bg-pink-50 hover:bg-pink-100 rounded-lg transition-colors">
                            <div
                                class="w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mb-2">
                                <span class="text-white font-bold">📷</span>
                            </div>
                            <span class="text-sm font-semibold text-pink-600">인스타그램 팔로우</span>
                        </button>

                        <button onclick="shareToYoutube()"
                            class="flex flex-col items-center p-4 bg-red-50 hover:bg-red-100 rounded-lg transition-colors">
                            <div class="w-12 h-12 bg-red-600 rounded-full flex items-center justify-center mb-2">
                                <span class="text-white font-bold">▶</span>
                            </div>
                            <span class="text-sm font-semibold text-red-600">유튜브 구독</span>
                        </button>

                        <button onclick="shareToKakao()"
                            class="flex flex-col items-center p-4 bg-yellow-50 hover:bg-yellow-100 rounded-lg transition-colors">
                            <div class="w-12 h-12 bg-yellow-400 rounded-full flex items-center justify-center mb-2">
                                <span class="text-yellow-800 font-bold">💬</span>
                            </div>
                            <span class="text-sm font-semibold text-yellow-600">카톡 공유</span>
                        </button>

                        <button onclick="shareWebsite()"
                            class="flex flex-col items-center p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors">
                            <div class="w-12 h-12 bg-gray-600 rounded-full flex items-center justify-center mb-2">
                                <span class="text-white font-bold">🔗</span>
                            </div>
                            <span class="text-sm font-semibold text-gray-600">홈페이지 공유하기</span>
                        </button>
                    </div>
                </div>

                <!-- 최신 소식 -->
                <div class="bg-white rounded-lg shadow-md p-6" id="latest-news">
                    <h3 class="text-lg font-bold mb-4 flex items-center">
                        <span class="mr-2">📢</span>
                        최신 소식
                    </h3>
                    <div id="latest-news-content">
                        <!-- 최신 소식이 동적으로 로드됩니다 -->
                    </div>
                </div>
            </section>

            <!-- ========== 2. 면단위 공약 페이지 섹션 ========== -->
            <section id="promises-section" class="page-section section-hidden">
                <!-- 면단위 공약 목록 보기 -->
                <div id="promise-list-view">
                    <h2 class="text-2xl font-bold mb-6 text-center">면단위 맞춤형 공약</h2>
                    <p class="text-center text-gray-600 mb-8">진안군 11개 면의 특성에 맞는 맞춤형 발전 계획을 확인하세요</p>

                    <!-- 면단위 공약 그리드 -->
                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-4"
                        id="township-grid-content">
                        <!-- 면단위 공약이 로드됩니다 -->
                    </div>

                    <!-- SNS 홍보 버튼 섹션 (공약 목록 페이지) -->
                    <div class="sns-container bg-white rounded-lg shadow-md p-6 mt-8">
                        <h3 class="text-lg font-bold mb-4 text-center">이우규 후보의 공약을 SNS로 공유해주세요! 📢</h3>
                        <div class="grid grid-cols-2 md:grid-cols-5 gap-4">
                            <button onclick="shareToFacebook()"
                                class="flex flex-col items-center p-4 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors">
                                <div class="w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center mb-2">
                                    <span class="text-white font-bold">f</span>
                                </div>
                                <span class="text-sm font-semibold text-blue-600">페이스북 팔로우</span>
                            </button>

                            <button onclick="shareToInstagram()"
                                class="flex flex-col items-center p-4 bg-pink-50 hover:bg-pink-100 rounded-lg transition-colors">
                                <div
                                    class="w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mb-2">
                                    <span class="text-white font-bold">📷</span>
                                </div>
                                <span class="text-sm font-semibold text-pink-600">인스타그램 팔로우</span>
                            </button>

                            <button onclick="shareToYoutube()"
                                class="flex flex-col items-center p-4 bg-red-50 hover:bg-red-100 rounded-lg transition-colors">
                                <div class="w-12 h-12 bg-red-600 rounded-full flex items-center justify-center mb-2">
                                    <span class="text-white font-bold">▶</span>
                                </div>
                                <span class="text-sm font-semibold text-red-600">유튜브 구독</span>
                            </button>

                            <button onclick="shareToKakao()"
                                class="flex flex-col items-center p-4 bg-yellow-50 hover:bg-yellow-100 rounded-lg transition-colors">
                                <div class="w-12 h-12 bg-yellow-400 rounded-full flex items-center justify-center mb-2">
                                    <span class="text-yellow-800 font-bold">💬</span>
                                </div>
                                <span class="text-sm font-semibold text-yellow-600">카톡 공유</span>
                            </button>

                            <button onclick="shareWebsite()"
                                class="flex flex-col items-center p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors">
                                <div class="w-12 h-12 bg-gray-600 rounded-full flex items-center justify-center mb-2">
                                    <span class="text-white font-bold">🔗</span>
                                </div>
                                <span class="text-sm font-semibold text-gray-600">홈페이지 공유하기</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- 공약 상세 페이지 -->
                <div id="promise-detail-view" class="hidden bg-white p-6 rounded-lg shadow-xl">
                    <button onclick="showPromiseList()"
                        class="mb-4 text-blue-600 font-semibold hover:underline flex items-center">
                        <span class="mr-1">←</span> 목록으로 돌아가기
                    </button>

                    <h2 id="promise-detail-title" class="text-2xl md:text-3xl font-bold mb-6"></h2>

                    <div class="space-y-8">
                        <div class="bg-red-50 p-6 rounded-lg border-l-4 border-red-500">
                            <h3 class="text-xl font-bold text-red-600 mb-3 flex items-center">
                                <span class="mr-2">🤔</span> Why? (현황 및 문제점)
                            </h3>
                            <p id="promise-detail-why" class="text-gray-700 leading-relaxed"></p>
                        </div>

                        <div class="bg-blue-50 p-6 rounded-lg border-l-4 border-blue-500">
                            <h3 class="text-xl font-bold text-blue-600 mb-3 flex items-center">
                                <span class="mr-2">💡</span> What? (약속 내용)
                            </h3>
                            <p id="promise-detail-what" class="text-gray-700 leading-relaxed"></p>
                        </div>

                        <div class="bg-green-50 p-6 rounded-lg border-l-4 border-green-500">
                            <h3 class="text-xl font-bold text-green-600 mb-3 flex items-center">
                                <span class="mr-2">🎯</span> How? (실천 방안)
                            </h3>
                            <p id="promise-detail-how" class="text-gray-700 leading-relaxed"></p>
                        </div>
                    </div>

                    <!-- 공유 버튼 -->
                    <div class="mt-10 pt-6 border-t bg-gray-50 rounded-lg p-6">
                        <h4 class="text-center font-semibold mb-4 text-lg">이 공약을 공유해서 알려주세요! 📢</h4>
                        <div class="flex justify-center space-x-4">
                            <button onclick="sharePromise('copy')"
                                class="bg-blue-500 hover:bg-blue-600 text-white w-14 h-14 rounded-full flex items-center justify-center transition-all hover:scale-110 shadow-lg"
                                title="링크 복사">
                                <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ========== 3. 후보자 소개 페이지 섹션 ========== -->
            <section id="profile-section" class="page-section section-hidden">
                <h2 class="text-2xl font-bold mb-6 text-center">후보자 소개</h2>

                <!-- 프로필 카드 -->
                <div class="bg-white rounded-lg shadow-md p-6 mb-6" id="candidate-profile">
                    <!-- 후보자 프로필이 동적으로 로드됩니다 -->
                </div>

                <!-- 주요 경력 -->
                <div class="bg-white rounded-lg shadow-md p-6 mb-6" id="candidate-experience">
                    <!-- 후보자 경력이 동적으로 로드됩니다 -->
                </div>

                <!-- 비전과 가치 -->
                <div class="bg-white rounded-lg shadow-md p-6" id="candidate-vision">
                    <!-- 후보자 비전이 동적으로 로드됩니다 -->
                </div>
            </section>

            <!-- ========== 4. 소식/일정 페이지 섹션 ========== -->
            <section id="news-section" class="page-section section-hidden">
                <h2 class="text-2xl font-bold mb-6 text-center">소식 & 일정</h2>

                <!-- 소식 -->
                <div class="space-y-6" id="news-content">
                    <!-- 소식들이 동적으로 로드됩니다 -->
                </div>
            </section>

            <!-- ========== 5. 당원가입안내 페이지 섹션 ========== -->
            <section id="membership-section" class="page-section section-hidden">
                <h2 class="text-2xl font-bold mb-6 text-center">더불어민주당 당원가입안내</h2>

                <!-- 당 소개 -->
                <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                    <h3 class="text-xl font-bold mb-4 flex items-center text-blue-800">
                        <span class="mr-2">🏛️</span>
                        더불어민주당을 소개합니다
                    </h3>
                    <div class="bg-blue-50 p-6 rounded-lg">
                        <p class="text-gray-700 leading-relaxed mb-4">
                            더불어민주당은 "사람이 먼저다"라는 가치 아래 모든 국민이 행복한 나라를 만들어가는 정당입니다.
                            촛불혁명의 정신을 이어받아 국민주권을 실현하고, 공정하고 정의로운 사회를 건설하기 위해 노력하고 있습니다.
                        </p>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="text-center p-4 bg-white rounded-lg">
                                <div class="text-3xl mb-2">🤝</div>
                                <h4 class="font-semibold mb-1">연대와 포용</h4>
                                <p class="text-sm text-gray-600">더불어 사는 사회</p>
                            </div>
                            <div class="text-center p-4 bg-white rounded-lg">
                                <div class="text-3xl mb-2">⚖️</div>
                                <h4 class="font-semibold mb-1">공정과 정의</h4>
                                <p class="text-sm text-gray-600">기회는 평등하게</p>
                            </div>
                            <div class="text-center p-4 bg-white rounded-lg">
                                <div class="text-3xl mb-2">🌱</div>
                                <h4 class="font-semibold mb-1">혁신과 미래</h4>
                                <p class="text-sm text-gray-600">지속가능한 발전</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 이재명 대통령 공약 소개 -->
                <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                    <h3 class="text-xl font-bold mb-4 flex items-center text-green-800">
                        <span class="mr-2">✨</span>
                        이재명 대통령의 핵심 공약
                    </h3>
                    <div class="space-y-4">
                        <div class="border-l-4 border-blue-500 pl-4">
                            <h4 class="font-semibold text-lg">기본사회 구축</h4>
                            <p class="text-gray-700 mt-1">모든 국민의 기본적 삶을 보장하는 기본소득, 기본주택, 기본의료 실현</p>
                        </div>
                        <div class="border-l-4 border-green-500 pl-4">
                            <h4 class="font-semibold text-lg">청년미래적금</h4>
                            <p class="text-gray-700 mt-1">청년들의 자산 형성을 지원하여 공정한 출발선 보장</p>
                        </div>
                        <div class="border-l-4 border-purple-500 pl-4">
                            <h4 class="font-semibold text-lg">아동수당 확대</h4>
                            <p class="text-gray-700 mt-1">모든 아동에게 월 50만원 지급으로 양육 부담 완화</p>
                        </div>
                        <div class="border-l-4 border-orange-500 pl-4">
                            <h4 class="font-semibold text-lg">탄소중립 그린뉴딜</h4>
                            <p class="text-gray-700 mt-1">기후위기 대응과 새로운 일자리 창출을 동시에 실현</p>
                        </div>
                    </div>
                </div>

                <!-- 당원가입 절차 안내 -->
                <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                    <h3 class="text-xl font-bold mb-4 flex items-center text-indigo-800">
                        <span class="mr-2">📋</span>
                        당원가입 절차 안내
                    </h3>
                    <div class="space-y-4">
                        <div class="flex items-start space-x-4">
                            <div
                                class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-sm">
                                1</div>
                            <div>
                                <h4 class="font-semibold">온라인 가입신청</h4>
                                <p class="text-gray-700 text-sm">더불어민주당 공식 홈페이지에서 가입신청서 작성</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-4">
                            <div
                                class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-sm">
                                2</div>
                            <div>
                                <h4 class="font-semibold">본인인증</h4>
                                <p class="text-gray-700 text-sm">휴대폰 또는 공인인증서를 통한 본인인증 절차</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-4">
                            <div
                                class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-sm">
                                3</div>
                            <div>
                                <h4 class="font-semibold">당원증 발급</h4>
                                <p class="text-gray-700 text-sm">가입 승인 후 모바일 당원증 즉시 발급</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-4">
                            <div
                                class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-sm">
                                4</div>
                            <div>
                                <h4 class="font-semibold">당원 활동 시작</h4>
                                <p class="text-gray-700 text-sm">지역 당원 모임 참여 및 정치 활동 시작</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 당원가입 혜택 -->
                <div class="bg-gradient-to-r from-blue-50 to-green-50 rounded-lg shadow-md p-6 mb-6">
                    <h3 class="text-xl font-bold mb-4 flex items-center text-blue-800">
                        <span class="mr-2">🎁</span>
                        당원가입 혜택
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="bg-white p-4 rounded-lg">
                            <h4 class="font-semibold mb-2">🗳️ 당내 선거 참여권</h4>
                            <p class="text-gray-700 text-sm">대통령 후보, 지방선거 후보 선출에 참여</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg">
                            <h4 class="font-semibold mb-2">📢 정책 제안권</h4>
                            <p class="text-gray-700 text-sm">당 정책 수립 과정에 의견 제시</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg">
                            <h4 class="font-semibold mb-2">📚 정치 교육 참여</h4>
                            <p class="text-gray-700 text-sm">각종 정치 교육 프로그램 무료 참여</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg">
                            <h4 class="font-semibold mb-2">🤝 네트워킹 기회</h4>
                            <p class="text-gray-700 text-sm">같은 뜻을 가진 동지들과의 만남</p>
                        </div>
                    </div>
                </div>

                <!-- 입당신청 버튼 -->
                <div class="text-center">
                    <div class="bg-white rounded-lg shadow-lg p-8">
                        <h3 class="text-2xl font-bold mb-4 text-gray-800">지금 바로 당원가입하세요!</h3>
                        <p class="text-gray-600 mb-6">
                            이우규 후보와 함께 진안의 새로운 미래를 만들어가고,<br>
                            국민주권정부 시대의 주인공이 되어주세요.<br>
                            인터넷 가입 후 심사완료까지는 수일이 소요됩니다.<br>
                            당원가입 확인이 되신 후에는 그 화면을 캡처해서 전화번호와 함께 <br>
                            카톡(010-4992-5534, 문형대) 또는 mhd0331@gmail.com으로 보내주시면 감사하겠습니다.<br>
                        </p>
                        <button onclick="openMembershipPage()"
                            class="direct-membership-btn bg-gradient-to-r from-blue-600 to-green-600 text-white px-12 py-4 rounded-full text-xl font-bold hover:from-blue-700 hover:to-green-700 transition-all transform hover:scale-105 shadow-lg">
                            🚀 더불어민주당 당원가입 바로가기
                        </button>
                        <p class="text-gray-500 text-sm mt-4">
                            * 가입 시 개인정보는 당헌·당규에 따라 안전하게 보호됩니다.
                        </p>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Floating 홈으로 버튼 -->
    <div id="floating-home-btn" class="floating-home-button hidden">
        <button onclick="goToHome()" class="home-btn" title="홈으로 돌아가기" aria-label="홈으로 돌아가기">
            <svg class="home-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
            </svg>
            <span class="sr-only">홈으로</span>
        </button>
    </div>

    <footer class="bg-gray-800...">

        <footer class="bg-gray-800 text-white text-center py-8 text-sm mt-16">
            <div class="container mx-auto px-4">
                <div class="flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0 md:space-x-8">
                    <div>
                        <p class="font-semibold text-lg">이우규 후보 선거사무소</p>
                        <p class="text-gray-400">전라북도 진안군 진안읍 진무로 1083-1, 2층 진안 더혁신 민주회의</p>
                    </div>
                    <div>
                        <p class="font-semibold">연락처</p>
                        <p class="text-gray-400">📞 사무국장 최락기 010-2610-9900</p>
                        <p class="text-gray-400">📧 nlp@daum.net</p>
                    </div>
                </div>
                <div class="mt-6 pt-6 border-t border-gray-700">
                    <p class="text-gray-400">
                        Copyright © 2024 이우규 후보 선거사무소.
                    </p>
                </div>
            </div>
        </footer>

        <!-- 자바스크립트 -->
        <script src="script.js?v=1.2">
            // 브라우저 확장 프로그램 간섭 방지 및 에러 처리 개선

            // 전역 에러 핸들러 설정
            window.addEventListener('error', function (event) {
                // 브라우저 확장 프로그램 관련 에러는 무시
                if (event.filename && (
                    event.filename.includes('chrome-extension://') ||
                    event.filename.includes('moz-extension://') ||
                    event.filename.includes('content.js') ||
                    event.filename.includes('content_script')
                )) {
                    console.log('[EXTENSION] 브라우저 확장 프로그램 에러 무시:', event.message);
                    event.preventDefault();
                    return false;
                }

                // 웹사이트 관련 에러만 처리
                console.error('[WEBSITE ERROR]:', event.error);
            });

            // Promise rejection 에러 핸들러
            window.addEventListener('unhandledrejection', function (event) {
                // JSON 파싱 에러가 확장 프로그램에서 온 경우 무시
                if (event.reason && event.reason.message &&
                    (event.reason.message.includes('JSON.parse') ||
                        event.reason.message.includes('storageChangeDispatcher'))) {
                    console.log('[EXTENSION] 확장 프로그램 JSON 파싱 에러 무시:', event.reason.message);
                    event.preventDefault();
                    return false;
                }

                console.error('[PROMISE REJECTION]:', event.reason);
            });

            // JSON.parse 안전 래퍼 함수
            function safeJSONParse(jsonString, fallback = null) {
                try {
                    if (typeof jsonString !== 'string') {
                        console.warn('[SAFE PARSE] JSON 파싱 대상이 문자열이 아닙니다:', typeof jsonString);
                        return fallback;
                    }

                    if (jsonString.trim() === '') {
                        console.warn('[SAFE PARSE] 빈 문자열입니다');
                        return fallback;
                    }

                    // "[object Object]" 같은 문제가 있는 문자열 체크
                    if (jsonString.includes('[object Object]')) {
                        console.warn('[SAFE PARSE] 잘못된 객체 문자열:', jsonString);
                        return fallback;
                    }

                    return JSON.parse(jsonString);
                } catch (error) {
                    console.warn('[SAFE PARSE] JSON 파싱 실패:', error.message, 'Input:', jsonString);
                    return fallback;
                }
            }

            // 로컬스토리지 안전 래퍼 함수들
            const SafeStorage = {
                setItem: function (key, value) {
                    try {
                        if (typeof value === 'object') {
                            localStorage.setItem(key, JSON.stringify(value));
                        } else {
                            localStorage.setItem(key, value);
                        }
                        return true;
                    } catch (error) {
                        console.warn('[SAFE STORAGE] setItem 실패:', error.message);
                        return false;
                    }
                },

                getItem: function (key, fallback = null) {
                    try {
                        const item = localStorage.getItem(key);
                        if (item === null) {
                            return fallback;
                        }

                        // JSON 형태인지 확인
                        if (item.startsWith('{') || item.startsWith('[')) {
                            return safeJSONParse(item, fallback);
                        }

                        return item;
                    } catch (error) {
                        console.warn('[SAFE STORAGE] getItem 실패:', error.message);
                        return fallback;
                    }
                },

                removeItem: function (key) {
                    try {
                        localStorage.removeItem(key);
                        return true;
                    } catch (error) {
                        console.warn('[SAFE STORAGE] removeItem 실패:', error.message);
                        return false;
                    }
                }
            };

            // 브라우저 확장 프로그램 감지 및 경고
            function detectExtensionInterference() {
                // Chrome 확장 프로그램 감지
                if (typeof chrome !== 'undefined' && chrome.runtime && chrome.runtime.id) {
                    console.log('[EXTENSION] Chrome 확장 프로그램 환경 감지됨');
                }

                // Firefox 확장 프로그램 감지
                if (typeof browser !== 'undefined' && browser.runtime) {
                    console.log('[EXTENSION] Firefox 확장 프로그램 환경 감지됨');
                }

                // Content Script 감지
                if (document.documentElement.getAttribute('data-extension-injected')) {
                    console.log('[EXTENSION] Content Script 주입 감지됨');
                }

                // DOM 변경 감시로 확장 프로그램 간섭 체크
                const observer = new MutationObserver(function (mutations) {
                    mutations.forEach(function (mutation) {
                        if (mutation.type === 'childList') {
                            mutation.addedNodes.forEach(function (node) {
                                if (node.nodeType === Node.ELEMENT_NODE) {
                                    // 확장 프로그램이 주입한 요소 체크
                                    if (node.className && typeof node.className === 'string' &&
                                        (node.className.includes('extension') ||
                                            node.className.includes('chrome-') ||
                                            node.className.includes('moz-'))) {
                                        console.log('[EXTENSION] 확장 프로그램이 DOM에 요소 추가:', node);
                                    }
                                }
                            });
                        }
                    });
                });

                observer.observe(document.body, {
                    childList: true,
                    subtree: true
                });
            }

            // 네트워크 요청 인터셉터 (확장 프로그램 간섭 방지)
            const originalFetch = window.fetch;
            window.fetch = function (...args) {
                const url = args[0];

                // 확장 프로그램 관련 요청은 차단
                if (typeof url === 'string' && (
                    url.includes('chrome-extension://') ||
                    url.includes('moz-extension://') ||
                    url.includes('extension://')
                )) {
                    console.log('[EXTENSION] 확장 프로그램 네트워크 요청 차단:', url);
                    return Promise.reject(new Error('Extension request blocked'));
                }

                return originalFetch.apply(this, args)
                    .catch(error => {
                        console.warn('[FETCH] 네트워크 요청 실패:', error.message);
                        throw error;
                    });
            };

            // 초기화 시 확장 프로그램 간섭 체크
            document.addEventListener('DOMContentLoaded', function () {
                detectExtensionInterference();

                // 확장 프로그램 관련 콘솔 에러 필터링
                const originalConsoleError = console.error;
                console.error = function (...args) {
                    const message = args.join(' ');

                    // 확장 프로그램 관련 에러는 warn으로 변경
                    if (message.includes('content.js') ||
                        message.includes('storageChangeDispatcher') ||
                        message.includes('chrome-extension') ||
                        message.includes('moz-extension')) {
                        console.warn('[EXTENSION ERROR]:', ...args);
                        return;
                    }

                    // 일반 에러는 그대로 표시
                    originalConsoleError.apply(console, args);
                };

                // ✅ 여기에 추가: 히어로 섹션 당원가입 버튼 이벤트 리스너
                const heroBtn = document.getElementById('hero-membership-btn');
                if (heroBtn) {
                    heroBtn.addEventListener('click', function (e) {
                        e.preventDefault();
                        console.log('[HTML] 히어로 당원가입 버튼 클릭');
                        if (typeof trackMembershipClick === 'function') {
                            trackMembershipClick('hero_section');
                        }
                        if (typeof showSection === 'function') {
                            showSection('membership');
                        }
                    });
                }

                // ✅ 추가: 다른 주요 버튼들도 여기에 함께 설정
                const directMembershipBtn = document.getElementById('direct-membership-btn');
                if (directMembershipBtn) {
                    directMembershipBtn.addEventListener('click', function (e) {
                        e.preventDefault();
                        console.log('[HTML] 직접 당원가입 버튼 클릭');
                        if (typeof openMembershipPage === 'function') {
                            openMembershipPage();
                        }
                    });
                }

                // ✅ 추가: SNS 공유 버튼들
                const shareFacebookBtn = document.getElementById('share-facebook');
                if (shareFacebookBtn) {
                    shareFacebookBtn.addEventListener('click', function (e) {
                        e.preventDefault();
                        if (typeof shareToFacebook === 'function') {
                            shareToFacebook();
                        }
                    });
                }

                const shareInstagramBtn = document.getElementById('share-instagram');
                if (shareInstagramBtn) {
                    shareInstagramBtn.addEventListener('click', function (e) {
                        e.preventDefault();
                        if (typeof shareToInstagram === 'function') {
                            shareToInstagram();
                        }
                    });
                }

                // 추가 버튼들도 같은 방식으로...
                console.log('[HTML] 추가 이벤트 리스너 설정 완료');
            });

            // CSP (Content Security Policy) 관련 에러 방지
            function preventCSPErrors() {
                // inline script 실행 전 CSP 체크
                const metaCSP = document.querySelector('meta[http-equiv="Content-Security-Policy"]');
                if (metaCSP) {
                    const cspContent = metaCSP.getAttribute('content');
                    if (cspContent && !cspContent.includes("'unsafe-inline'")) {
                        console.warn('[CSP] Inline script 실행이 제한될 수 있습니다');
                    }
                }
            }


            // 익스포트
            window.SafeStorage = SafeStorage;
            window.safeJSONParse = safeJSONParse;

            console.log('[PROTECTION] 브라우저 확장 프로그램 간섭 방지 시스템 활성화됨');
        </script>
        <script>
            function closeIOSInstallPopup() {
                const popup = document.getElementById('ios-install-popup');
                if (popup) {
                    popup.classList.add('hidden');
                }
            }

            function closeAndroidInstallPopup() {
                const popup = document.getElementById('android-install-popup');
                if (popup) {
                    popup.classList.add('hidden');
                }
            }
        </script>
</body>

</html>